<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Slop Architecture â€“ Browser Microkernel</title>

<style>
  body {
    background: #0b0b0b;
    color: #eaeaea;
    font-family: monospace;
    padding: 20px;
  }

  h1 {
    font-size: 20px;
    margin-bottom: 10px;
  }

  .bar {
    border: 1px solid #333;
    padding: 10px;
    margin-bottom: 12px;
    background: #111;
  }

  button {
    background: #1a1a1a;
    color: #fff;
    border: 1px solid #555;
    padding: 6px 14px;
    margin-right: 6px;
    cursor: pointer;
  }

  button:hover {
    background: #222;
  }

  textarea {
    width: 100%;
    height: 70px;
    background: #000;
    color: #00ff66;
    border: 1px solid #444;
    padding: 8px;
    font-family: monospace;
  }

  pre {
    background: #000;
    border: 1px solid #333;
    padding: 10px;
    min-height: 80px;
    overflow: auto;
  }
</style>
</head>

<body>

<h1>ðŸ§  Slop Architecture â€“ Browser Microkernel</h1>

<div class="bar">
  <button onclick="bootKernel()">Boot Kernel</button>
  <button onclick="runRogue()">Run Rogue Plugin</button>
  <button onclick="systemReport()">System Report</button>
</div>

<div class="bar">
  <textarea id="prompt">What is SLP?</textarea><br><br>
  <button onclick="runLLM()">Run LLM</button>
</div>

<div class="bar">
  <strong>Output</strong>
  <pre id="output"></pre>
</div>

<script>
const out = document.getElementById("output");

function log(msg) {
  out.textContent += msg + "\n";
}

// ---- UI actions mapped to kernel syscalls ----

async function bootKernel() {
  out.textContent = "";
  const res = await fetch("/boot", { method: "POST" });
  const json = await res.json();
  log("Kernel booted.");
  log(JSON.stringify(json, null, 2));
}

async function runLLM() {
  const prompt = document.getElementById("prompt").value;
  const res = await fetch("/run/llm", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ prompt })
  });
  const json = await res.json();
  log("\nLLM:");
  log(JSON.stringify(json, null, 2));
}

async function runRogue() {
  const res = await fetch("/run/infinite", { method: "POST" });
  const json = await res.json();
  log("\nRogue plugin:");
  log(JSON.stringify(json, null, 2));
}

async function systemReport() {
  const res = await fetch("/status");
  const json = await res.json();
  log("\nSYSTEM STATUS:");
  log(JSON.stringify(json, null, 2));
}
</script>

</body>
</html>
